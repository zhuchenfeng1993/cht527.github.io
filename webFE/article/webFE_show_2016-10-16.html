<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta name="author" content="caohaitao">
<meta name="keywords" content="自我对话,回忆,记录,web前端技术">
<meta name="description" content="记录昨日的难忘,把握今日的时光,拥抱明日的希望,脚踏实地,不忘初心的走下去">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<link rel="shortcut icon" href="/img/favicon.ico" /> 
<title></title>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/webFE_header.css">
<link rel="stylesheet" type="text/css" href="/css/webFE.css">
<link rel="stylesheet" type="text/css" href="/css/wangEditor.min.css" />
<script type="text/javascript" src="/js/jquery-1.11.1.min.js"></script>
</head>
<body oncontextmenu="return false" onselectstart="return false">

<div id="wrapper">
	<header class="js_header mod-header">
    <div class="mod-header__wrap">
        <div class="js_menu mod-header__nav">
            <ul id="menu-nav" class="menu">
             <li id="menu-item-19" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-19"><a class="nav" href="/index.html">首页</a></li>
      		<li id="menu-item-4814" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4814"><a class="nav" id="HTML" href="javascript:void(0);" onclick="classify('html')">HTML</a></li>
      		<li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a id="CSS" class="nav" href="javascript:void(0);" onclick="classify('css')">CSS</a></li>
      		<li id="menu-item-12" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12"><a id="JavaScript" class="nav"  href="javascript:void(0);" onclick="classify('JavaScript')">JavaScript</a></li>
      		<li id="menu-item-2813" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2813"><a id="frame"  class="nav" href="javascript:void(0);" onclick="classify('frame')">F2E 散文</a></li>
			<li id="menu-item-10" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a class="nav" href="http://www.w3cplus.com/" target="_blank" >W3CPLUS</a></li>
			<li id="menu-item-6168" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6168"><a class="nav" href="http://www.w3cfuns.com/" target="_blank" >W3CFUNS</a></li>
			<li id="menu-item-14" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14"><a class="nav" href="http://f2e.im/" target="_blank" >F2E社区</a></li>
			</ul>   
			<audio id="myaudio"></audio>     
		</div>
        <div class="js_piano_nav_icon mod-header__music-icon" title="钢琴节奏"><i></i><i></i><i></i><i></i><i></i></div>
    </div>
</header>

	<hr class="divider" style="width:90%;border: 0;border-top: 1px solid #eee;">

	<article>
	<h1 class="webFE_title">记录下两个正则表达式的使用</h1>
	<p class="webFE_article_author">Posted by:&nbsp;&nbsp;转自<a href="http://mail.qq.com/cgi-bin/">Ghostzhang</a></p>
	<p class="webFE_article_date"><i class="fa fa-clock-o"></i>&nbsp;&nbsp;<span>2016-10-16</span></p>
	<div class="article_content">&nbsp;&nbsp;
			<p>昨天在做mergeCSS的时候遇到两个正则匹配的问题，也花了不少的时间，最后在CSS森林群的 CE 同学帮助下，才完成了这俩正则，特别记录下，以后可能也会用到。</p>
      <p>第一个是匹配图片路径的问题，要处理的字符串是：</p>
      <p style="color:#bbbbbb">background:url(demo.jpg);background-image:url(demo.gif);</p>
      <p>我一开始写的是：</p>
      <p style="color:#bbbbbb">url((.*))</p>
      <p>得到的结果为：</p>
      <p style="color:#bbbbbb">url(demo.jpg);background-image:url(demo.gif);</p>
      <p>可以看到，把两个图片匹配成了一个，结果不是所希望得到的。把它改为惰性匹配，如下：</p>
      <p style="color:#bbbbbb">url((.*?))</p>
      <p>得到的结果为：</p>
      <p style="color:#bbbbbb">url(demo.jpg);</p>
      <p style="color:#bbbbbb">url(demo.gif);</p>
      <p>匹配到了两个图片，是所要的结果了。:)</p>
      <p>第二个问题是正则表达式中使用变量的问题，简单解释下为什么加变量也会成为问题，先看下 RegExp 对象 和 replace() 方法 的说明，Javascript的正则一般的书写方式是：</p>
      <p style="color:#bbbbbb">/正则表达式/匹配模式</p>
      <p>所有在“/”中间的内容都会被当成正则表达式，于是变量名也就被当成字符串了。不加“/”？也行，不过不加“/”的话就不能指定匹配模式，也就只能匹配到第一个。</p>
      <p>通过RegExp对象可以生成一个新的 RegExp 对象，具有指定的模式和标志。</p>
      <p>new RegExp("url\((" + 变量名 + ")\)", "g");</p>
      <p>这里要注意的是使用“\”的方式的方式进行转义，因为</p>
      <p style="color:#bbbbbb">如果参数 pattern 是正则表达式而不是字符串，那么 RegExp() 构造函数将用与指定的 RegExp 相同的模式和标志创建一个新的 RegExp 对象。</p>
      <p>这个过程中“\”会被转换成“”，即上面的结果是：</p>
      <p style="color:#bbbbbb">/url((变量内容))/g</p>

	</div>
	</article>
	
	<hr class="divider" style="width:90%;border: 0;border-top: 1px solid #eee;">
<footer>
<p>Copyright &copy; 2017&nbsp;<a href="http://caohaitao.cc">caohaitao.cc</a>&nbsp;&nbsp;. All Rights Reserved</p>
<p>
<a class="website-record" href="http://www.miibeian.gov.cn" target="_blank">京ICP备&nbsp;16068799号</a>
<a href="https://pages.github.com/" target="_blank" class="github-pages"></a>
</p>
</footer>

</div>	
<script type="text/javascript" src="/js/nav.js"></script>
<script>
//---------筛选分类---------
function classify(mark){
  if (mark=='html') {
    window.location.href="webFE_article_HTML.html";
  }else if(mark=='css'){
    window.location.href="webFE_article_CSS.html";
  }else if(mark=='JavaScript'){
    window.location.href="webFE_article_JavaScript.html";
  }else{
    window.location.href="webFE_article_frame.html";
  }
  
}	
(function(){
    var $backToTopEle=$('<img class="backToTop" src="/img/backtop.png" />').appendTo($("body")).click(function(){
    $("html, body").animate({scrollTop:0},400);
    }),
    $backToTopFun=function(){
      var st=$(document).scrollTop(),
      winh=$(window).height();
      (st>0)?$backToTopEle.show():$backToTopEle.hide();
      if(!window.XMLHttpRequest){
        $backToTopEle.css("top",st+winh-166);
      }
    };
    $(window).on("scroll",$backToTopFun);
    $(function(){$backToTopFun();});

})();
</script>

</body>
</html>
